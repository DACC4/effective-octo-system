sequenceDiagram
    actor C as Client
    participant S as Server

    C->>S: Ask for folder metadata
    S-->>C: Send folder metadata

    C->>C: Decrypt folder metadata

    C->>S: Ask for Guest's public key
    S-->>C: Send Guest's public key

    C->>C: Encrypt folder's key with Guest's public key

    C->>S: Send encrypted Guest's folder key and folder metadata

    S->>S: Add Guest to the list of users with access to the folder